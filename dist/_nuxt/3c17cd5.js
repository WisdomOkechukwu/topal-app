(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{483:function(t,e,o){"use strict";var r=o(4),n=o(372).values;r({target:"Object",stat:!0},{values:function(t){return n(t)}})},528:function(t,e,o){"use strict";o.r(e);var r=o(3),n=(o(33),o(18),o(62),o(483),{name:"ForgotPasswordPage",middleware:"guest",data:function(){return{email:null}},created:function(){},methods:{getDeviceType:function(){var t=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(t)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(t)?"mobile":"desktop"},login:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r,n,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$auth.loginWith("local",{data:{email:t.email,password:t.password}});case 3:console.log(123456),t.$router.push(""),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),[419,401,400].includes(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.status)&&(n=null===e.t0||void 0===e.t0||null===(l=e.t0.response.data)||void 0===l?void 0:l.message),[422].includes(null===e.t0||void 0===e.t0||null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(n=Object.values(null===e.t0||void 0===e.t0||null===(c=e.t0.response.data)||void 0===c?void 0:c.errors)[0][0]),t.$toast.alert({text:n||"An error occured while trying to login",type:"error",time:3,position:"top"});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))()},forgotPassword:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={email:t.email},console.log(o),e.next=4,t.$apiservice.forgotpassword(o).then((function(e){t.$toast.alert({text:e.data.message,type:"success",time:3,position:"top"}),t.$router.push("/login")})).catch((function(e){var o,r,n,l,c;[419,401,400].includes(null==e||null===(o=e.response)||void 0===o?void 0:o.status)&&(n=null==e||null===(l=e.response.data)||void 0===l?void 0:l.message);[422].includes(null==e||null===(r=e.response)||void 0===r?void 0:r.status)&&(n=Object.values(null==e||null===(c=e.response.data)||void 0===c?void 0:c.errors)[0][0]);t.$toast.alert({text:n||"An error occured while trying to login",type:"error",time:3,position:"top"})}));case 4:case"end":return e.stop()}}),e)})))()}}}),l=o(27),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid grid-cols-12 w-full min-h-screen",attrs:{id:"login"}},[e("div",{staticClass:"sm:col-span-7 col-span-12 w-full md:px-16 md:py-8 px-4 flex flex-col items-center"},[e("div",{staticClass:"max-w-sm w-full mx-auto mt-16"},[e("div",[e("nuxt-link",{staticClass:"block mb-16 w-fit",attrs:{to:"/"}},[e("img",{attrs:{src:"/logo.svg"}})]),t._v(" "),e("legend",{staticClass:"text-3xl font-semibold text-custom-primary"},[t._v("\n          Reset Tapol Password\n        ")]),t._v(" "),e("p",{staticClass:"text-md text-gray-400 flex gap-x-2 mt-2 font-normal"},[t._v("\n          Don't have an account,\n          "),e("nuxt-link",{staticClass:"block text-custom-primary hover:underline",attrs:{to:"/register"}},[t._v("Sign Up")])],1)],1),t._v(" "),e("form",{staticClass:"mt-24",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.forgotPassword.apply(null,arguments)}}},[e("div",{staticClass:"relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"peer h-14 w-full placeholder-transparent focus:outline-none focus:border-gray-100 shadow-sm rounded-3xl focus:ring-0 text-custom-primary border-2 border-gray-200 font-semibold",attrs:{type:"email",name:"email",autocomplete:"false",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),e("label",{staticClass:"text-custom-primary ml-4 absolute left-0 -top-5 sm:text-sm text-xs transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:-top-5 peer-focus:text-gray-600 peer-focus:text-sm",attrs:{for:"email"}},[t._v("Email")])]),t._v(" "),e("div",{staticClass:"text-right mt-2"},[e("nuxt-link",{staticClass:"sm:text-sm text-xs text-custom-primary font-normal",attrs:{to:"/login"}},[t._v("Do you have an account ?")])],1),t._v(" "),e("recaptcha"),t._v(" "),e("button",{staticClass:"font-normal mt-8 rounded-3xl bg-custom-primary w-fit py-3 px-6 text-white tracking-wider hover:bg-opacity-90 text-sm",attrs:{type:"submit"}},[t._v("\n          Get Started\n        ")])],1)])]),t._v(" "),e("div",{staticClass:"sm:col-span-5 bg-contain hidden sm:block",staticStyle:{background:"url('/backgrounds/tapol-side.svg') no-repeat","background-size":"cover"}})])}),[],!1,null,null,null);e.default=component.exports}}]);