(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{532:function(t,e,r){"use strict";r.r(e);r(63),r(28),r(10);var n=r(3),o=(r(33),{name:"TransactionsPage",layout:"auth",data:function(){return{loadingSkeleton:!1,transactionResponse:null,transactionResponseData:[],page_size:10,start_date:null,end_date:null,search_text:null,status:"0"}},head:function(){return{title:"Transactions | Tapol"}},mounted:function(){this.listTransaction()},methods:{listPaginate:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var param;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log(t),null!=t){r.next=4;break}return e.$toast.alert({text:"No Data.",type:"error",time:3,position:"top"}),r.abrupt("return");case 4:return param={search_text:e.search_text,status:e.status,start_date:e.start_date,end_date:e.end_date,page_size:e.page_size},e.loadingSkeleton=!0,e.transactionResponse=null,e.transactionResponseData=[],r.next=10,e.$apiservice.listPaginate(param,t).then((function(t){e.loadingSkeleton=!1,console.log(t.data.savings),e.transactionResponseData=t.data.savings.data,e.transactionResponse=t.data.savings}));case 10:case"end":return r.stop()}}),r)})))()},listTransaction:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var param;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return param={search_text:t.search_text,status:t.status,start_date:t.start_date,end_date:t.end_date,page_size:t.page_size},t.loadingSkeleton=!0,t.transactionResponse=null,t.transactionResponseData=[],e.next=6,t.$apiservice.listSaving(param).then((function(e){t.loadingSkeleton=!1,console.log(e.data.savings),t.transactionResponseData=e.data.savings.data,t.transactionResponse=e.data.savings}));case 6:case"end":return e.stop()}}),e)})))()}}}),l=r(27),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid grid-cols-12 gap-8 mt-8"},[e("div",{staticClass:"col-span-12 text-custom-primary bg-white rounded-xl sm:shadow p-8 sm:flex grid grid-cols-12 items-start justify-between",staticStyle:{"overflow-x":"scroll"}},[e("div",{staticClass:"h-full col-span-12 w-screen flex justify-between flex-col"},[e("div",{staticClass:"flex items-center justify-between"},[t._m(0),t._v(" "),e("div",{staticClass:"flex items-center justify-end mb-[20px] mr-[20px]"},[e("nuxt-link",{staticClass:"border border-custom-primary text-xs px-4 py-2 rounded-3xl hover:text-white hover:bg-custom-primary",attrs:{to:"/savings/create"}},[t._v("\n            Create Savings\n          ")])],1)]),t._v(" "),e("div",{staticClass:"flex justify-between w-full"},[e("div",{staticClass:"relative mt-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_text,expression:"search_text"}],staticClass:"peer h-14 w-full placeholder-transparent focus:outline-none focus:border-gray-100 shadow-sm rounded-3xl focus:ring-0 text-custom-primary border-2 border-gray-200 font-semibold",attrs:{type:"text",name:"search_text",autocomplete:"false"},domProps:{value:t.search_text},on:{change:function(e){return t.listTransaction()},input:function(e){e.target.composing||(t.search_text=e.target.value)}}}),t._v(" "),e("label",{staticClass:"text-custom-primary ml-4 absolute left-0 -top-5 sm:text-sm text-xs transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:-top-5 peer-focus:text-gray-600 peer-focus:text-sm"},[t._v("Search Text")])]),t._v(" "),e("div",{staticClass:"relative mt-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.start_date,expression:"start_date"}],staticClass:"peer h-14 w-full placeholder-transparent focus:outline-none focus:border-gray-100 shadow-sm rounded-3xl focus:ring-0 text-custom-primary border-2 border-gray-200 font-semibold",attrs:{type:"date",name:"start_date",autocomplete:"false"},domProps:{value:t.start_date},on:{change:function(e){return t.listTransaction()},input:function(e){e.target.composing||(t.start_date=e.target.value)}}}),t._v(" "),e("label",{staticClass:"text-custom-primary ml-4 absolute left-0 -top-5 sm:text-sm text-xs transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:-top-5 peer-focus:text-gray-600 peer-focus:text-sm"},[t._v("Start Date")])]),t._v(" "),e("div",{staticClass:"relative mt-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.end_date,expression:"end_date"}],staticClass:"peer h-14 w-full placeholder-transparent focus:outline-none focus:border-gray-100 shadow-sm rounded-3xl focus:ring-0 text-custom-primary border-2 border-gray-200 font-semibold",attrs:{type:"date",name:"end_date",autocomplete:"false"},domProps:{value:t.end_date},on:{change:function(e){return t.listTransaction()},input:function(e){e.target.composing||(t.end_date=e.target.value)}}}),t._v(" "),e("label",{staticClass:"text-custom-primary ml-4 absolute left-0 -top-5 sm:text-sm text-xs transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:-top-5 peer-focus:text-gray-600 peer-focus:text-sm"},[t._v("End Date")])]),t._v(" "),e("div",{staticClass:"relative mt-12"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"peer h-14 w-full placeholder-transparent focus:outline-none focus:border-gray-100 shadow-sm rounded-3xl focus:ring-0 text-custom-primary border-2 border-gray-200 font-semibold",attrs:{id:"statuses",name:"statues"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.status=e.target.multiple?r:r[0]},function(e){return t.listTransaction()}]}},[e("option",{domProps:{value:null}},[t._v("Choose")]),t._v(" "),e("option",{attrs:{value:"0"}},[t._v("Active Savings")]),t._v(" "),e("option",{attrs:{value:"1"}},[t._v("Completed Savings")])]),t._v(" "),e("label",{staticClass:"text-custom-primary ml-4 absolute left-0 -top-5 sm:text-sm text-xs transition-all peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-placeholder-shown:top-4 peer-focus:-top-5 peer-focus:text-gray-600 peer-focus:text-sm"},[t._v("Status")])])]),t._v(" "),e("div",{staticClass:"grid grid-cols-12 gap-8 mt-8 col-span-12"},[e("div",{staticClass:"md:col-span-12 col-span-12 rounded-xl p-8 flex flex-col justify-between",staticStyle:{height:"400px","overflow-y":"scroll"}},[e("div",{staticClass:"flex space-x-4 justify-items-start items-start flex-col"},[e("div",{staticStyle:{"margin-left":"0"}},[e("table",{},[0==t.loadingSkeleton?e("tr",[e("th",[t._v("S/N")]),t._v(" "),e("th",{staticClass:"text-left px-8 py-4"},[t._v("Date Created")]),t._v(" "),e("th",{staticClass:"text-left px-8 py-4"},[t._v("Title")]),t._v(" "),e("th",{staticClass:"text-left px-8 py-4"},[t._v("Amount")]),t._v(" "),e("th",{staticClass:"text-left px-8 py-4"},[t._v("Interest Due")]),t._v(" "),e("th",{staticClass:"text-left px-8 py-4"},[t._v("Total Maturity Amount")])]):t._e(),t._v(" "),1==t.loadingSkeleton?e("tr",[t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3)]):t._e(),t._v(" "),1==t.loadingSkeleton?e("tr",[t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6)]):t._e(),t._v(" "),1==t.loadingSkeleton?e("tr",[t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9)]):t._e(),t._v(" "),1==t.loadingSkeleton?e("tr",[t._m(10),t._v(" "),t._m(11),t._v(" "),t._m(12)]):t._e(),t._v(" "),1==t.loadingSkeleton?e("tr",[t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15)]):t._e(),t._v(" "),t._l(t.transactionResponseData,(function(r,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1))]),t._v(" "),e("td",{staticClass:"px-8 py-4"},[e("div",{staticClass:"flex flex-col justify-center"},[e("p",{staticStyle:{"font-weight":"300",color:"grey"}},[t._v("\n                        "+t._s(t._f("dateFormat")(r.created_at,"YYYY.MM.DD"))+"\n                      ")])])]),t._v(" "),e("td",{staticClass:"px-8 py-4"},[e("p",{staticStyle:{color:"grey"}},[t._v(t._s(r.saving_title))])]),t._v(" "),e("td",{staticClass:"px-8 py-4"},[e("p",{staticStyle:{color:"grey"}},[t._v("\n                      "+t._s(t._f("currency")(r.amount_to_save,"₦"))+"\n                    ")])]),t._v(" "),e("td",{staticClass:"px-8 py-4"},[e("p",{staticStyle:{color:"grey"}},[t._v("\n                      "+t._s(t._f("currency")(r.interest_due,"₦"))+"\n                    ")])]),t._v(" "),e("td",{staticClass:"px-8 py-4"},[e("p",{staticStyle:{color:"grey"}},[t._v("\n                      "+t._s(t._f("currency")(r.total_maturity_amount,"₦"))+"\n                    ")])])])}))],2)])]),t._v(" "),e("div",{staticClass:"mt-[15px] flex justify-between"},[e("div",{},[e("button",{staticClass:"border border-custom-primary text-xs px-4 py-2 rounded-3xl hover:text-white hover:bg-custom-primary",on:{click:function(e){return t.listPaginate(t.transactionResponse.prev_page_url)}}},[t._v("\n                Previous\n              ")]),t._v(" "),e("button",{staticClass:"border border-custom-primary text-xs px-4 py-2 rounded-3xl hover:text-white hover:bg-custom-primary",on:{click:function(e){return t.listPaginate(t.transactionResponse.next_page_url)}}},[t._v("\n                Next\n              ")])]),t._v(" "),e("div",{staticClass:"flex items-center justify-center"},[e("h3",{staticClass:"font-medium text-lg ml-3"},[t._v("Page Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.page_size,expression:"page_size"}],staticClass:"ml-2 peer w-2/4 placeholder-transparent focus:outline-none focus:border-gray-100 shadow-sm rounded-3xl focus:ring-0 text-custom-primary border-2 border-gray-200 font-semibold",attrs:{type:"number",name:"new-page_size",autocomplete:"false"},domProps:{value:t.page_size},on:{change:function(e){return t.listTransaction()},input:function(e){e.target.composing||(t.page_size=e.target.value)}}})])])])])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex mr-2"},[e("img",{staticClass:"h-6",attrs:{src:"/icons/Wallet.svg"}}),t._v(" "),e("h3",{staticClass:"font-medium text-lg ml-3"},[t._v("My Savings")])])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])},function(){var t=this._self._c;return t("td",{staticClass:"text-left px-8 py-4"},[t("div",{staticClass:"h-6 w-11/12 rounded-md bg-gray-300"})])}],!1,null,null,null);e.default=component.exports}}]);