(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{486:function(t,e,n){"use strict";function r(a,b){return a.label<b.label?-1:a.label>b.label?1:0}n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return l}));var o={style:"currency",currency:"NGN"},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return new Intl.NumberFormat(e,n).format(t)}},527:function(t,e,n){"use strict";n.r(e);n(63),n(28),n(10),n(38);var r=n(3),o=(n(62),n(483),n(33),n(495)),l=n.n(o),c=(n(486),{layout:"auth",middleware:"auth",asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.params,n=t.$axios,e.prev=1,e.next=4,n.get("baxi/electricity/providers");case 4:return r=e.sent,console.log(r.data.data),e.abrupt("return",{providers:r.data.data});case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),window.location.assign("");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},data:function(){return{smartcard_number:null,product_code:null,addon:null,accountnumber:null,network:null,amount:null,providers:[],provider:null,bundle:null,listproducts:[],listaddons:[]}},methods:{handleSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.provider){e.next=3;break}return t.$toast.alert({text:"Provider is required.",type:"error",time:3,position:"top"}),e.abrupt("return");case 3:if(null!=t.amount){e.next=6;break}return t.$toast.alert({text:"Amount is required.",type:"error",time:3,position:"top"}),e.abrupt("return");case 6:if(null!=t.accountnumber){e.next=9;break}return t.$toast.alert({text:"Account number is required.",type:"error",time:3,position:"top"}),e.abrupt("return");case 9:return n={accountnumber:t.accountnumber,service_type:t.provider.service_type,amount:t.amount},console.log(n),e.next=13,t.$apiservice.buyPower(n).then((function(e){console.log(e.data.message),l()("Success",e.data.message,"success").then((function(e){console.log(e),1==e&&t.$router.push("./"),t.$router.push("./")}))})).catch((function(e){var n,r,o,l,c;(console.log(e),[419,401,400].includes(null==e||null===(n=e.response)||void 0===n?void 0:n.status))&&(o=null==e||null===(l=e.response.data)||void 0===l?void 0:l.message);[422].includes(null==e||null===(r=e.response)||void 0===r?void 0:r.status)&&(o=Object.values(null==e||null===(c=e.response.data)||void 0===c?void 0:c.errors)[0][0]);t.$toast.alert({text:o||"An error occured while trying.",type:"error",time:3,position:"top"})}));case 13:case"end":return e.stop()}}),e)})))()},onChangeNetwork:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.network.service_type),e.listproducts=[],e.listaddons=[],e.product_code=null,e.addon=null,t.next=7,e.listProducts();case 7:return t.next=9,e.listAddon();case 9:case"end":return t.stop()}}),t)})))()},listProducts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={tv:t.network.service_type},t.listproducts=[],e.next=4,t.$apiservice.listProduct(n).then((function(e){t.listproducts=e.data.data,console.log(e.data.data[0])})).catch((function(e){var n,r,o,l,c;(console.log(e),[419,401,400].includes(null==e||null===(n=e.response)||void 0===n?void 0:n.status))&&(o=null==e||null===(l=e.response.data)||void 0===l?void 0:l.message);[422].includes(null==e||null===(r=e.response)||void 0===r?void 0:r.status)&&(o=Object.values(null==e||null===(c=e.response.data)||void 0===c?void 0:c.errors)[0][0]);t.$toast.alert({text:o||"An error occured while trying.",type:"error",time:3,position:"top"})}));case 4:case"end":return e.stop()}}),e)})))()},listAddon:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={tv:t.network.service_type},t.listaddons=[],e.next=4,t.$apiservice.listAddons(n).then((function(e){console.log(e.data),t.listaddons=e.data.data})).catch((function(e){var n,r,o,l,c;(console.log(e),[419,401,400].includes(null==e||null===(n=e.response)||void 0===n?void 0:n.status))&&(o=null==e||null===(l=e.response.data)||void 0===l?void 0:l.message);[422].includes(null==e||null===(r=e.response)||void 0===r?void 0:r.status)&&(o=Object.values(null==e||null===(c=e.response.data)||void 0===c?void 0:c.errors)[0][0]);t.$toast.alert({text:o||"An error occured while trying.",type:"error",time:3,position:"top"})}));case 4:case"end":return e.stop()}}),e)})))()}}}),d=n(27),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid grid-cols-12 gap-2 mt-8"},[e("div",{staticClass:"md:col-span-8 col-span-12 text-custom-primary bg-white rounded-xl sm:shadow-lg p-8 sm:flex items-start justify-between"},[e("div",{staticClass:"w-full"},[t._m(0),t._v(" "),e("form",{staticClass:"mt-[50px]",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"mt-[20px]"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Electricity Provider")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.provider,expression:"provider"}],staticClass:"w-full px-4 pr-12 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.provider=e.target.multiple?n:n[0]}}},[e("option",{domProps:{value:null}},[t._v("Choose")]),t._v(" "),t._l(t.providers,(function(n,r){return e("option",{key:r,domProps:{value:n}},[t._v("\n              "+t._s(n.name)+"\n            ")])}))],2)]),t._v(" "),e("div",{staticClass:"mt-[20px]"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Account Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.accountnumber,expression:"accountnumber"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"accountnumber"},domProps:{value:t.accountnumber},on:{input:function(e){e.target.composing||(t.accountnumber=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"mt-[20px]"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Amount")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"number",name:"amount"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),t._v(" "),e("p",[t._v(t._s(t._f("currency")(t.amount,"â‚¦")))])]),t._v(" "),t._m(1)])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex space-x-4 items-center mb-[5px]"},[e("img",{staticClass:"h-6",attrs:{src:"/icons/PowerUtility.svg"}}),t._v(" "),e("h3",{staticClass:"font-normal text-lg"},[t._v("Buy Power")])])},function(){var t=this._self._c;return t("div",{staticClass:"mt-[20px]"},[t("button",{staticClass:"font-normal mt-8 rounded-3xl bg-custom-primary w-fit py-3 px-6 text-white tracking-wider hover:bg-opacity-90 text-sm",attrs:{type:"submit"}},[this._v("\n            Send Money\n          ")])])}],!1,null,null,null);e.default=component.exports}}]);