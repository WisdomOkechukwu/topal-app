(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{498:function(t,e,o){var content=o(506);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(43).default)("333e99fe",content,!0,{sourceMap:!1})},505:function(t,e,o){"use strict";o(498)},506:function(t,e,o){var n=o(42)((function(i){return i[1]}));n.push([t.i,".pp{color:#68387d;height:30px;left:88%;position:relative;top:-43px;width:30px}",""]),n.locals={},t.exports=n},530:function(t,e,o){"use strict";o.r(e);o(63),o(28),o(10),o(66),o(53);var n=o(3),l=(o(33),o(62),o(483),o(38),o(495)),r=o.n(l),d=o(496),c=(o(497),{name:"IndexPage",components:{Cropper:d.a},layout:"auth",middleware:"auth",data:function(){return{img:"https://images.pexels.com/photos/226746/pexels-photo-226746.jpeg",profile_picture:null,new_password:null,show_password:!1,show_new_password:!1,old_password:null,customerdata:{firstname:null,lastname:null,email:null},disabled:"0"}},head:function(){return{title:"Profile | Tapol"}},created:function(){this.customerdata.firstname=this.$auth.user.firstname,this.customerdata.lastname=this.$auth.user.lastname,this.customerdata.email=this.$auth.user.email,this.customerdata.gender=this.$auth.user.gender,this.customerdata.telephone=this.$auth.user.telephone,this.customerdata.bvn=this.$auth.user.bvn,this.customerdata.city=this.$auth.user.city,this.customerdata.company_location=this.$auth.user.company_location,this.customerdata.company_name=this.$auth.user.company_name,this.customerdata.employment_status=this.$auth.user.employment_status,this.customerdata.marital_status=this.$auth.user.marital_status,this.customerdata.residential_address=this.$auth.user.residential_address,console.log(this.customerdata)},methods:{selectFile:function(t){console.log(t.target.files[0]),this.profile_picture=t.target.files[0]},change:function(t){var e=t.coordinates,canvas=t.canvas;console.log(e,canvas)},editPassword:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.new_password&&""!=t.new_password){e.next=3;break}return t.$toast.alert({text:"New Password",type:"error",time:3,position:"top"}),e.abrupt("return");case 3:if(null!=t.old_password&&""!=t.old_password){e.next=6;break}return t.$toast.alert({text:"Old Password",type:"error",time:3,position:"top"}),e.abrupt("return");case 6:return o={id:t.$auth.user.id,old_password:t.old_password,new_password:t.new_password},e.next=9,t.$apiservice.savePassword(o).then((function(e){console.log(e.data.results),r()("Success",e.data.message,"success").then((function(e){console.log(e),t.$auth.refresh()}))})).catch((function(e){var o,n,l,r,d;(console.log(e),[419,401,400].includes(null==e||null===(o=e.response)||void 0===o?void 0:o.status))&&(l=null==e||null===(r=e.response.data)||void 0===r?void 0:r.message);[422].includes(null==e||null===(n=e.response)||void 0===n?void 0:n.status)&&(l=Object.values(null==e||null===(d=e.response.data)||void 0===d?void 0:d.errors)[0][0]);t.$toast.alert({text:l||"An error occured while trying.",type:"error",time:3,position:"top"})}));case 9:case"end":return e.stop()}}),e)})))()},uploadFile:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t.profile_picture){e.next=3;break}return t.$toast.alert({text:"Select Image",type:"error",time:3,position:"top"}),e.abrupt("return");case 3:return(o=new FormData).append("profile_picture",t.profile_picture,t.profile_picture.name),console.log(o),e.next=8,t.$apiservice.updateImg(o).then((function(e){console.log(e.data.results),r()("Success",e.data.message,"success").then((function(e){console.log(e),t.$auth.refresh()}))})).catch((function(e){var o,n,l,r,d;(console.log(e),[419,401,400].includes(null==e||null===(o=e.response)||void 0===o?void 0:o.status))&&(l=null==e||null===(r=e.response.data)||void 0===r?void 0:r.message);[422].includes(null==e||null===(n=e.response)||void 0===n?void 0:n.status)&&(l=Object.values(null==e||null===(d=e.response.data)||void 0===d?void 0:d.errors)[0][0]);t.$toast.alert({text:l||"An error occured while trying.",type:"error",time:3,position:"top"})}));case 8:case"end":return e.stop()}}),e)})))()},saveProfile:function(){console.log(this.customerdata)},editProfile:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$apiservice.updateProfile(t.customerdata).then((function(e){console.log(e.data.results),r()("Success",e.data.message,"success").then((function(e){console.log(e),t.$auth.refresh()}))})).catch((function(e){var o,n,l,r,d;(console.log(e),[419,401,400].includes(null==e||null===(o=e.response)||void 0===o?void 0:o.status))&&(l=null==e||null===(r=e.response.data)||void 0===r?void 0:r.message);[422].includes(null==e||null===(n=e.response)||void 0===n?void 0:n.status)&&(l=Object.values(null==e||null===(d=e.response.data)||void 0===d?void 0:d.errors)[0][0]);t.$toast.alert({text:l||"An error occured while trying.",type:"error",time:3,position:"top"})}));case 2:case"end":return e.stop()}}),e)})))()}}}),m=(o(505),o(27)),component=Object(m.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"grid grid-cols-12 gap-2 mt-8"},[e("div",{staticClass:"md:col-span-9 col-span-12 text-custom-primary bg-white rounded-xl sm:shadow-lg p-8 sm:flex items-start justify-between flex-col"},[e("div",{staticStyle:{display:"flex","align-items":"baseline","justify-content":"space-between",width:"100%"}},[t._m(0),t._v(" "),e("div",{staticClass:"flex items-center justify-end mb-[20px] mr-[20px]"},[e("button",{staticClass:"border border-custom-primary text-xs px-4 py-2 rounded-3xl hover:text-white hover:bg-custom-primary",on:{click:function(e){return t.uploadFile()}}},[t._v("\n            Save Image\n          ")])])]),t._v(" "),e("div",{staticClass:"flex flex-col justify-center items-center"},[null!=t.$auth.user.profile_picture_link?e("img",{staticClass:"rounded-full mx-auto h-8 w-8",staticStyle:{width:"200px",height:"200px"},attrs:{id:"logo",src:t.$auth.user.profile_picture_link}}):e("img",{staticClass:"rounded-full mx-auto h-8 w-8",staticStyle:{width:"200px",height:"200px"},attrs:{id:"logo",src:"/img/proimg.png"}}),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Image")]),t._v(" "),e("input",{staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.selectFile(e)}}})])])]),t._v(" "),e("div",{staticClass:"md:col-span-9 col-span-12 text-custom-primary bg-white rounded-xl sm:shadow-lg p-8 sm:flex items-start justify-between flex-col"},[e("div",{staticStyle:{display:"flex","align-items":"baseline","justify-content":"space-between",width:"100%"}},[t._m(1),t._v(" "),e("div",{staticClass:"flex items-center justify-end mb-[20px] mr-[20px]"},[e("button",{staticClass:"border border-custom-primary text-xs px-4 py-2 rounded-3xl hover:text-white hover:bg-custom-primary",on:{click:function(e){return t.editProfile()}}},[t._v("\n            Save Profile\n          ")])])]),t._v(" "),e("div",{staticClass:"flex flex-col justify-center items-center"},[e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Firstname")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.firstname,expression:"customerdata.firstname"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text"},domProps:{value:t.customerdata.firstname},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"firstname",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Lastname")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.lastname,expression:"customerdata.lastname"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"lastname"},domProps:{value:t.customerdata.lastname},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"lastname",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Email")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.email,expression:"customerdata.email"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"email",name:"email"},domProps:{value:t.customerdata.email},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"email",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Gender")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.gender,expression:"customerdata.gender"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{id:"gender",name:"gender"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customerdata,"gender",e.target.multiple?o:o[0])}}},[e("option",{domProps:{value:null}},[t._v("Choose")]),t._v(" "),e("option",{attrs:{value:"male"}},[t._v("Male")]),t._v(" "),e("option",{attrs:{value:"female"}},[t._v("Female")])])]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Phone Number")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.telephone,expression:"customerdata.telephone"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"phone"},domProps:{value:t.customerdata.telephone},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"telephone",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("BVN")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.bvn,expression:"customerdata.bvn"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"bvn"},domProps:{value:t.customerdata.bvn},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"bvn",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("City")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.city,expression:"customerdata.city"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"city"},domProps:{value:t.customerdata.city},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"city",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Company Location")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.company_location,expression:"customerdata.company_location"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"company_location"},domProps:{value:t.customerdata.company_location},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"company_location",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Company Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.company_name,expression:"customerdata.company_name"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"company_name"},domProps:{value:t.customerdata.company_name},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"company_name",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Employment Status")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.employment_status,expression:"customerdata.employment_status"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{id:"gender",name:"gender"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customerdata,"employment_status",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"employed"}},[t._v("employed")]),t._v(" "),e("option",{attrs:{value:"unemployed"}},[t._v("unemployed")]),t._v(" "),e("option",{attrs:{value:"self-employed"}},[t._v("self-employed")]),t._v(" "),e("option",{attrs:{value:"student"}},[t._v("student")])])]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Marital Status")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.marital_status,expression:"customerdata.marital_status"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{id:"gender",name:"gender"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.customerdata,"marital_status",e.target.multiple?o:o[0])}}},[e("option",{domProps:{value:null}},[t._v("Choose")]),t._v(" "),e("option",{attrs:{value:"single"}},[t._v("single")]),t._v(" "),e("option",{attrs:{value:"married"}},[t._v("married")]),t._v(" "),e("option",{attrs:{value:"seperated"}},[t._v("seperated")]),t._v(" "),e("option",{attrs:{value:"divorced"}},[t._v("divorced")]),t._v(" "),e("option",{attrs:{value:"widowed"}},[t._v("widowed")])])]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Residential Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.customerdata.residential_address,expression:"customerdata.residential_address"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"text",name:"residential_address"},domProps:{value:t.customerdata.residential_address},on:{input:function(e){e.target.composing||t.$set(t.customerdata,"residential_address",e.target.value)}}})])])]),t._v(" "),e("div",{staticClass:"md:col-span-9 col-span-12 text-custom-primary bg-white rounded-xl sm:shadow-lg p-8 sm:flex items-start justify-between flex-col"},[e("div",{staticStyle:{display:"flex","align-items":"baseline","justify-content":"space-between",width:"100%"}},[t._m(2),t._v(" "),e("div",{staticClass:"flex items-center justify-end mb-[20px] mr-[20px]"},[e("button",{staticClass:"border border-custom-primary text-xs px-4 py-2 rounded-3xl hover:text-white hover:bg-custom-primary",on:{click:function(e){return t.editPassword()}}},[t._v("\n            Save Password\n          ")])])]),t._v(" "),e("div",{staticClass:"flex flex-col justify-center items-center"},[e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("Old Password")]),t._v(" "),"checkbox"==(0==t.show_password?"password":"text")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.old_password)?t._i(t.old_password,null)>-1:t.old_password},on:{change:function(e){var o=t.old_password,n=e.target,l=!!n.checked;if(Array.isArray(o)){var r=t._i(o,null);n.checked?r<0&&(t.old_password=o.concat([null])):r>-1&&(t.old_password=o.slice(0,r).concat(o.slice(r+1)))}else t.old_password=l}}}):"radio"==(0==t.show_password?"password":"text")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"radio"},domProps:{checked:t._q(t.old_password,null)},on:{change:function(e){t.old_password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:0==t.show_password?"password":"text"},domProps:{value:t.old_password},on:{input:function(e){e.target.composing||(t.old_password=e.target.value)}}}),t._v(" "),t.show_password?t._e():e("img",{staticStyle:{position:"relative",top:"-43px",left:"88%",height:"30px",width:"30px",color:"#68387d"},attrs:{src:"/icons/eye.svg"},on:{click:function(e){t.show_password=!t.show_password}}}),t._v(" "),t.show_password?e("img",{staticStyle:{position:"relative",top:"-43px",left:"88%",height:"30px",width:"30px",color:"#68387d"},attrs:{src:"/icons/eyeslash.svg"},on:{click:function(e){t.show_password=!t.show_password}}}):t._e()]),t._v(" "),e("div",{staticClass:"col-span-2 mt-[10px] sm:col-span-1 w-full"},[e("label",{staticClass:"font-thin text-sm"},[t._v("New Password")]),t._v(" "),"checkbox"==(0==t.show_new_password?"password":"text")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.new_password)?t._i(t.new_password,null)>-1:t.new_password},on:{change:function(e){var o=t.new_password,n=e.target,l=!!n.checked;if(Array.isArray(o)){var r=t._i(o,null);n.checked?r<0&&(t.new_password=o.concat([null])):r>-1&&(t.new_password=o.slice(0,r).concat(o.slice(r+1)))}else t.new_password=l}}}):"radio"==(0==t.show_new_password?"password":"text")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:"radio"},domProps:{checked:t._q(t.new_password,null)},on:{change:function(e){t.new_password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.new_password,expression:"new_password"}],staticClass:"w-full px-4 py-3 bg-[#f2f2f2] rounded-3xl text-2xl font-semibold border-none",attrs:{type:0==t.show_new_password?"password":"text"},domProps:{value:t.new_password},on:{input:function(e){e.target.composing||(t.new_password=e.target.value)}}}),t._v(" "),t.show_new_password?t._e():e("img",{staticStyle:{position:"relative",top:"-43px",left:"88%",height:"30px",width:"30px",color:"#68387d"},attrs:{src:"/icons/eye.svg"},on:{click:function(e){t.show_new_password=!t.show_new_password}}}),t._v(" "),t.show_new_password?e("img",{staticStyle:{position:"relative",top:"-43px",left:"88%",height:"30px",width:"30px",color:"#68387d"},attrs:{src:"/icons/eyeslash.svg"},on:{click:function(e){t.show_new_password=!t.show_new_password}}}):t._e()])])])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex mr-2"},[e("img",{staticClass:"h-6",attrs:{src:"/icons/MyAccount.svg"}}),t._v(" "),e("h3",{staticClass:"font-medium text-lg ml-3"},[t._v("Edit Profile")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex mr-2"},[e("img",{staticClass:"h-6",attrs:{src:"/icons/MyAccount.svg"}}),t._v(" "),e("h3",{staticClass:"font-medium text-lg ml-3"},[t._v("Profile")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex mr-2"},[e("img",{staticClass:"h-6",attrs:{src:"/icons/MyAccount.svg"}}),t._v(" "),e("h3",{staticClass:"font-medium text-lg ml-3"},[t._v("Edit Password")])])}],!1,null,null,null);e.default=component.exports}}]);